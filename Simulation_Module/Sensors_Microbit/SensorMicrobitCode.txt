import radio as radio
from microbit import *
from machine import *
from threebg import *

#CODE Micro:bit Sensors

setRadioOnAndSetting(18, 18, 251)

# UART initialisation
uart.init(115200)

# Read on UART as "id:value"
def uartReadMsg():
    return uart.read()

# Write on UART
def uartSendMsg(msg):
    uart.write(msg)

while True:
    msg = "vide"
    #If there is msg form UART pending
    if uart.any():
        msg = str(uartReadMsg())
        msg = msg.split('\'')[1]
    sleep(2000)
    if msg != "vide":
        msgToSend = createMessage("update", str(18), msg.split(":")[0], msg.split(":")[1])
        display.scroll(msgToSend)
        SendMsg(msgToSend)
        
            
            
            

        
            
            
            

            
